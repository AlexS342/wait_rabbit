# !!! Catching up with the rabbit

# Запуск проекта

!!! Внимание !!!  
После выполнения тестового задания и его сдачи выяснилось, что Docker заблокировал свою работу на территории России и теперь скачать контейнеры очень затруднительно.  
Если у вас нет заранее скаченного контейнера mysql, то предлагаю несколько вариантов запуска проекта:
1. Перейти на SQLite - в файле .env в строке DB_CONNECTION присвоить значение sqlite
2. Установить mysql-serve и вручную создать базу данных test1 и исправить значение DB_PORT=3306
3. Найти обходное решение для нормальной работы Docker
   * один из вариантов: https://habr.com/ru/articles/818833/

!!! Внимание !!!  
Проект реализован на Laravel 11, а для его работы необходим PHP 8.2  
Цитата из документации: "Для Laravel 11.x требуется минимальная версия PHP 8.2"  

!!! Внимание !!!  
На слабых серверах (типа Ubuntu 22.04 64bit 512 МБ RAM 20 ГБ SSD 1 CPU) нужно добавлять файл подкачки, иначе столкнетесь с KILL
* для mySQL нехватает оперативной памяти (SQLite и PostgreSQL на таком сервере работают без файла подкачки)

После клонирования данного проекта в терминале перейти в проект и:
1. `composer install` - устанавливаем зависимости
2. `cp .env.example .env` - создаем `.env`
3. `cp docker-compose.yml.example docker-compose.yml` - создаем `docker-compose.yml`
4. `php artisan key:generate` - генерируем ключ проекта
5. `sudo docker compose up -d` - запускаем mySQL в Docker
6. `php artisan migrate --seed` - создаем в базе данных таблицы и заполняем из фейковыми данными
7. `php artisan serve` - запускаем проект на локальном сервере
    * Приложение будет запущено и доступно из браузера на локальном сервере по ссылке http://127.0.0.1:8000
    * Если не работает (не генерируется картинка с кодом) captcha, нужно доустановить php-gd командой `sudo apt-get install php-gd`

* !!! Инструкция по запуску проекта написана для Linux, запуск на Windows может отличаться или иметь свои особенности.  
* !!! Если по какой-то причине в файле .env не оказалось данных для подключения к базе данных, то эти данные можно взять из файла docker-compose.yml  

### ПО разработчика:

1. Ubuntu
2. PHP 8.3
3. Laravel 11
4. Composer 2.2.6
5. Node 21.6.2
6. NPM 10.2.4
7. Docker 26.1.3
* Базы данных разворачиваю в docker

### Общая информация по результатам выполнения ТЗ

С готовым тестовым заданием можно ознакомится по ссылке http://5.53.124.246/
Проект выполнен на Laravel 11, как мне кажется, в полном объеме (см. тестовое задание ниже).
Основная часть backend состоит из одного контроллера, одного request и двух моделей, а так же написаны три роута.
Для реализации captcha установлена внешняя библиотека.
Взаимодействие с базой данных реализовано через Eloquent ORM.
Для создания таблиц базы данных используются миграции, а для наполнения базы данных создан Seeder и Factory.
Frontend реализован на шаблоне blade. Оформление выполнено через CSS (кнопки и пагинация bootstrap).  
Валидация с использованием регулярных выражений выполнена на стороне сервера и на стороне клиента. На стороне клиента для валидации написан небольшой скрипт JS.

# Тестовое задание на должность "PHP разработчик" в компанию Вайт Рэбит
Для прохождения тестового задания, вам необходимо создать гостевую книгу.
Стэк:
- PHP 7+
- MySQL 5.2+

На выполнение задания отводится 4 дня со следующего дня после получения ТЗ.  
Основной функционал приложения:  
Гостевая книга предоставляет возможность пользователям сайта оставлять сообщения на сайте.  
Все данные введенные пользователем сохраняются в БД MySQL, так же в базе данных сохраняются данные о IP пользователя и его браузере.  

Форма добавления записи в гостевую книгу должна иметь следующие поля:
- User Name (цифры и буквы латинского алфавита) – обязательное поле;  
- E-mail (формат email) — обязательное поле;  
- CAPTCHA (цифры и буквы латинского алфавита) – изображение и обязательное поле (см. примечание);  
- Text (непосредственно сам текст сообщения, HTML тэги недопустимы) – обязательное поле.  
- 
Сообщения должны выводится в виде таблицы, с возможностью сортировки по следующим полям:
- User Name;
- E-mail;
- дата добавления (как в порядке убывания, так и в обратном).

Сообщения должны разбиваться на страницы по 5 сообщений на каждой.  

Сортировка по умолчанию – LIFO.  
Приветствуется создания простейшего дизайна с использованием CSS.  
Дополнительный функционал

Также к базовой функциональности, следует добавить следующие возможности:
- Валидация вводимых данных на стороне сервера и клиента;
- Добавление визуальных эффектов так же приветствуется.

Примечание  
Перед выполнением задания, обратите внимание на то, что:
- Можно пользоваться любым PHP-фреймворком, или можно не пользоваться;
- Можно пользоваться любыми JS библиотеками, или можно не пользоваться;
- Написать и приложить инструкцию по развертке приложения;
- Приветствуется сдача задания через GIT-репозиторий;
- Не забудьте приложить дамп базы данных, с которой работали во время выполнения задания;

Если возникнут проблемы с созданием своей CAPTCHA, то поле можно пропустить, но
если вы его сделаете, то это будет несомненным плюсом.





